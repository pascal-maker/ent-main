// Code generated by github.com/lolopinto/ent/ent, DO NOT edit.

package models

import (
	"github.com/lolopinto/ent/ent"
	"github.com/lolopinto/ent/ent/viewer"
)

// AllowIfViewerCanSeeUserRule is a reusable rule that can be called by different ents to see if the contact can be visible
type AllowIfViewerCanSeeUserRule struct {
	UserID string
}

// Eval evaluates that the ent is visible to the user
func (rule AllowIfViewerCanSeeUserRule) Eval(v viewer.ViewerContext, entity ent.Entity) ent.PrivacyResult {
	_, err := LoadUser(v, rule.UserID)
	if err != nil {
		return ent.Skip()
	}
	return ent.Allow()
}
